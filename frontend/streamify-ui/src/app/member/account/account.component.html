<div class="account-container" [class.loading]="isLoading">
  <div *ngIf="member">
    <header class="page-header">
      <h1>My Account</h1>
    </header>

    <div class="table-container">
      <div class="account-details">
        <div class="detail-item">
          <h3>Name</h3>
          <div *ngIf="!isEditMode">{{ member.name }}</div>
          <input *ngIf="isEditMode" [(ngModel)]="editableMember.name" type="text">
        </div>

        <div class="detail-item">
          <h3>Email</h3>
          <div *ngIf="!isEditMode">{{ member.email }}</div>
          <input *ngIf="isEditMode" [(ngModel)]="editableMember.email" type="email">
        </div>

        <div class="detail-item">
          <h3>Address</h3>
          <div *ngIf="!isEditMode">{{ member.street }}, {{ member.city }}, {{ member.state }}, {{ member.country }}</div>
          <div *ngIf="isEditMode" class="address-inputs">
            <input [(ngModel)]="editableMember.street" placeholder="Street">
            <input [(ngModel)]="editableMember.city" placeholder="City">
            <input [(ngModel)]="editableMember.state" placeholder="State">
            <input [(ngModel)]="editableMember.country" placeholder="Country">
          </div>
        </div>

        <div class="detail-item">
          <h3>Phone</h3>
          <div *ngIf="!isEditMode">{{ member.phone }}</div>
          <input *ngIf="isEditMode" [(ngModel)]="editableMember.phone" type="tel">
        </div>

        <div class="detail-item">
          <h3>Subscription Plan</h3>
          <div *ngIf="!isEditMode">{{ member.subscription_name }}</div>
          <div *ngIf="isEditMode" class="subscription-inputs">
            <label>
              <input type="radio" name="subscription" value="Basic" [(ngModel)]="editableMember.subscription_name">
              Basic
            </label>
            <label>
              <input type="radio" name="subscription" value="Premium" [(ngModel)]="editableMember.subscription_name">
              Premium
            </label>
          </div>
        </div>

        <div class="detail-item" *ngIf="isEditMode">
          <h3>Change Password</h3>
          <div class="password-inputs">
            <input [(ngModel)]="passwordChange.newPassword" type="password" placeholder="New Password">
            <input [(ngModel)]="passwordChange.confirmPassword" type="password" placeholder="Confirm New Password">
          </div>
        </div>
      </div>

      <div class="button-group">
        <button *ngIf="!isEditMode" (click)="enableEditMode()" class="btn">Edit</button>
        <button *ngIf="!isEditMode" (click)="logout()" class="btn btn-danger">Logout</button>
        <button *ngIf="isEditMode" (click)="submitChanges()" class="btn">Submit</button>
        <button *ngIf="isEditMode" (click)="cancelEditMode()" class="btn">Cancel</button>
      </div>
    </div>
  </div>

  <div *ngIf="isLoading" class="loading-overlay">
    <div class="loading-spinner"></div>
  </div>
</div>
